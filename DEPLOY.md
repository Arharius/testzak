# Инструкция по деплою (Render)

Проект полностью настроен для автоматического деплоя на платформу Render.com.

## 1. Подготовка репозитория
1. Закоммитьте все изменения:
   ```bash
   git add .
   git commit -m "feat: Auth, DB, and Deployment config"
   ```
2. Отправьте код в ваш GitHub репозиторий:
   ```bash
   git push origin main
   ```

## 2. Настройка на Render.com
1. Зарегистрируйтесь/войдите на [dashboard.render.com](https://dashboard.render.com/).
2. Нажмите **New +** -> **Blueprint**.
3. Подключите ваш GitHub репозиторий.
4. Render найдет файл `render.yaml` и предложит создать сервисы:
   - `tz-generator-drive` (Диск для базы данных)
   - `tz-generator-backend` (API сервер)
   - `tz-generator-frontend` (Веб-интерфейс)
5. Нажмите **Apply**.

## 3. Использование
После деплоя Render выдаст вам публичный URL (например `https://tz-generator-frontend.onrender.com`).
- Откройте этот URL.
- Зарегистрируйтесь (первый пользователь).
- Пользуйтесь! База данных будет сохраняться на подключенном диске.

## Локальный запуск (Docker)
Если хотите запустить на любой машине локально:
```bash
docker-compose up --build
```
Это поднимет базу, бэкенд и фронтенд одной командой.
Приложение будет доступно по адресу: http://localhost:3000

## Перенос данных (База данных)
Мы перешли на **PostgreSQL** (управляемая база данных Render).

1. **Где лежат данные:**
   - В облаке Render (Managed PostgreSQL).
   - Локально: в файле `backend/tz_generator.db` (для разработки).

2. **Бэкап и доступ:**
   - Чтобы управлять данными в облаке, используйте вкладку **Connect** в панели управления Render (там будут данные для подключения через любой SQL-клиент, например DBeaver).
   - Render делает автоматические бэкапы (на платных тарифах) или можно делать дамп вручную.
